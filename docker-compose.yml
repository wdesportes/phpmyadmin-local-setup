version: "2.3"

#
# >>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<
#                   WARING!
#   This file is auto-generated by "compose-generator.sh"
#   Please run this script and update templates
#   Templates are in "compose-templates" directory
# >>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<
#

services:
  mariadb104:
    image: crocodile2u/mariadb-rocks:10.4
    container_name: mariadb104
    dns_search: williamdes.local
    hostname: mariadb104.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mariadb104.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mariadb104-rocks-server:/var/lib/mysql"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
      - "/mnt/Dev/!OSS/public/mysqld.cnf:/etc/mysql/mariadb.conf.d/ssl.cnf"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public
    ports:
      - "3306:3306"

  mariadb106:
    image: mariadb:10.6
    container_name: mariadb106
    dns_search: williamdes.local
    hostname: mariadb106.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mariadb106.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mariadb106-server:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mariadb105:
    image: mariadb:10.5
    container_name: mariadb105
    dns_search: williamdes.local
    hostname: mariadb105.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mariadb105.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mariadb105-server:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mariadb102:
    image: mariadb:10.2
    container_name: mariadb102
    dns_search: williamdes.local
    hostname: mariadb102.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mariadb102.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mariadb102-server:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public
  nginx:
    image: nginx
    container_name: nginx
    dns_search: williamdes.local
    hostname: nginx.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 100m
    volumes:
      - "/mnt/Dev/!OSS/servers/nginx/:/etc/nginx"
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "/var/log/containers/nginx:/var/log/nginx"
    networks:
      williamdeslocal:
        aliases:
          - nginx.williamdes.local
          - proxy1.local
          - proxy2.local
          - 8.0.local
          - pma.selenium.local
    ports:
      - "80:80"
      - "443:443"
      - "8443:8443"

  pmatest:
    image: phpmyadmin/phpmyadmin:latest
    container_name: pmatest
    dns_search: williamdes.local
    hostname: pmatest.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 100m
    networks:
      williamdeslocal:
        aliases:
          - pmatest.williamdes.local
    environment:
        UPLOAD_LIMIT: 2G
    volumes:
      - ./config.user.inc.php:/etc/phpmyadmin/config.user.inc.php:ro
    ports:
      - "500:80"


  phpfpm53:
    image: devilbox/php-fpm-5.3:latest
    container_name: phpfpm53
    dns_search: williamdes.local
    hostname: 5.3.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10053
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10053 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 5.3.williamdes.local
          - pma.5.3.local
          - 5.3.local



  phpfpm55:
    image: devilbox/php-fpm:5.5-mods
    container_name: phpfpm55
    dns_search: williamdes.local
    hostname: 5.5.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10055
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10055 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 5.5.williamdes.local
          - pma.5.5.local
          - 5.5.local



  phpfpm70:
    image: devilbox/php-fpm:7.0-mods
    container_name: phpfpm70
    dns_search: williamdes.local
    hostname: 7.0.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10070
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10070 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 7.0.williamdes.local
          - pma.7.0.local
          - 7.0.local



  phpfpm71:
    image: devilbox/php-fpm:7.1-mods
    container_name: phpfpm71
    dns_search: williamdes.local
    hostname: 7.1.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10071
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10071 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 7.1.williamdes.local
          - pma.7.1.local
          - 7.1.local



  phpfpm72:
    image: devilbox/php-fpm:7.2-mods
    container_name: phpfpm72
    dns_search: williamdes.local
    hostname: 7.2.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10072
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10072 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 7.2.williamdes.local
          - pma.7.2.local
          - 7.2.local



  phpfpm73:
    image: devilbox/php-fpm:7.3-mods
    container_name: phpfpm73
    dns_search: williamdes.local
    hostname: 7.3.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10073
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10073 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 7.3.williamdes.local
          - pma.7.3.local
          - 7.3.local



  phpfpm74:
    image: devilbox/php-fpm:7.4-work
    container_name: phpfpm74
    dns_search: williamdes.local
    hostname: 7.4.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10074
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10074 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 7.4.williamdes.local
          - pma.7.4.local
          - 7.4.local



  phpfpm80:
    image: devilbox/php-fpm:8.0-work
    container_name: phpfpm80
    dns_search: williamdes.local
    hostname: 8.0.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10080
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10080 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 8.0.williamdes.local
          - pma.8.0.local
          - 8.0.local



  phpfpm81:
    image: devilbox/php-fpm:8.1-work
    container_name: phpfpm81
    dns_search: williamdes.local
    hostname: 8.1.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 1g
    working_dir: /mnt/Dev
    environment:
      PHP_EXTENSION_XDEBUG: ${PHP_EXTENSION_XDEBUG:-0}
      PHP_INI_XDEBUG__REMOTE_PORT: 10081
      XDEBUG_CONFIG: ${XDEBUG_CONFIG:-remote_port=10081 remote_autostart=1 remote_host=172.19.0.1 remote_enable=1 remote_connect_back=0}
    volumes:
      - "/dev/log:/dev/log"
      - "/mnt/Dev:/mnt/Dev"
      - "./servers/php-custom.d:/etc/php-custom.d"
      - "/mnt/Dev/!OSS/public/ssl/:/etc/db-certs/"
    networks:
      williamdeslocal:
        aliases:
          - 8.1.williamdes.local
          - pma.8.1.local
          - 8.1.local
  haproxy:
    depends_on:
      - nginx-fpm-lowmem
    image: haproxy:lts-alpine
    dns_search: williamdes.local
    hostname: haproxy.williamdes.local
    domainname: haproxy.williamdes.local
    container_name: haproxy.williamdes.local
    mem_limit: 1G
    mem_reservation: 100m
    ports:
      - ${HTTP_BIND_PORT:-8084}:80
      - ${HTTP_BIND_HAPROXY_ADMIN_PORT:-8082}:8082
    volumes:
      - ./servers/haproxy/haproxy2.cfg:/usr/local/etc/haproxy/haproxy.cfg:ro
    networks:
      williamdeslocal:
        aliases:
          - haproxy.williamdes.local
    restart: on-failure:12
  nginx-fpm-lowmem:
    image: ghcr.io/sudo-bot/gh-deployer-container/phpmyadmin
    container_name: nginx-fpm-lowmem
    dns_search: williamdes.local
    hostname: 7.4-lowmem.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    mem_limit: 128M
    working_dir: /mnt/Dev
    environment:
      - SKIP_DEPLOY=yes
      - MEMORY_LIMIT=124M
    ports:
      - "8085:80"
    volumes:
      - "/mnt/Dev/phpmyadmintest:/home/www/phpMyAdmin"
    networks:
      williamdeslocal:
        aliases:
          - 7.4-lowmem.williamdes.local
          - pma.7.4-lowmem.local
          - 7.4-lowmem.local

  mysql80:
    image: mysql:8.0
    container_name: mysql80
    dns_search: williamdes.local
    hostname: mysql80.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql80.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-80:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mysql801:
    image: mysql:8.0.1
    container_name: mysql801
    dns_search: williamdes.local
    hostname: mysql801.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql801.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-801:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mysql811:
    image: mysql:8.0.11
    container_name: mysql811
    dns_search: williamdes.local
    hostname: mysql811.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql811.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-811:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mysql803:
    image: mysql:8.0.3
    container_name: mysql803
    dns_search: williamdes.local
    hostname: mysql803.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql803.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-803:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mysql57:
    image: mysql:5.7
    container_name: mysql57
    dns_search: williamdes.local
    hostname: mysql57.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql57.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-57:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mysql5726:
    image: mysql:5.7.26
    container_name: mysql5726
    dns_search: williamdes.local
    hostname: mysql5726.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql5726.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-5726:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mysql5717:
    image: mysql:5.7.17
    container_name: mysql5717
    dns_search: williamdes.local
    hostname: mysql5717.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql5717.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-5717:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mysql5722:
    image: mysql:5.7.22
    container_name: mysql5722
    dns_search: williamdes.local
    hostname: mysql5722.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql5722.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-5722:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  mysql578:
    image: mysql:5.7.8
    container_name: mysql578
    dns_search: williamdes.local
    hostname: mysql578.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - mysql578.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/mysql-server-578:/var/lib/mysql"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public

  perconadb5640:
    image: percona:5.6.40
    container_name: perconadb5640
    dns_search: williamdes.local
    hostname: perconadb5640.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - perconadb5640.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/perconadb-server-5640:/var/lib/mysql"
    environment:
      - INIT_TOKUDB=1
      - INIT_ROCKSDB=1
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public


  perconadb5734:
    image: percona:5.7.34
    container_name: perconadb5734
    dns_search: williamdes.local
    hostname: perconadb5734.williamdes.local
    domainname: williamdes.local
    restart: on-failure:2
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-upublic", "-ppublic"]
      interval: 120s
      timeout: 1s
      retries: 3
    networks:
      williamdeslocal:
        aliases:
          - perconadb5734.williamdes.local
    volumes:
      - "/mnt/Dev/!OSS/servers/perconadb-server-5734:/var/lib/mysql"
    environment:
      - INIT_TOKUDB=1
      - INIT_ROCKSDB=1
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=public
      - MYSQL_USER=public
      - MYSQL_PASSWORD=public
  #  proxy-sql:
  #    image: proxysql/proxysql
  #    container_name: proxy-sql
  #    dns_search: williamdes.local
  #    hostname: proxy-sql.williamdes.local
  #    domainname: williamdes.local
  #    ports:
  #      - "16032:6032"
  #      - "16033:6033"
  #      - "16034:6080"
  #    networks:
  #      williamdeslocal:
  #        aliases:
  #          - proxy-sql.williamdes.local
  #          - proxy-sql
  #          - proxy-sql.local
  #    volumes:
  #      - "/mnt/Dev/!OSS/proxysql.cnf:/etc/proxysql.cnf"


  # https://medium.com/@marinbinzari/reset-root-mysql-password-in-docker-d961c71285e4


  #mysql55:
  #image: mysql:5.5
  #container_name: mysql55
  #dns_search: williamdes.local
  #hostname: mysql5.5.williamdes.local
  #domainname: williamdes.local
  #restart: on-failure:2
  #mem_limit: 300m
  #environment:
  #- MYSQL_ROOT_PASSWORD=public
  #- MYSQL_DATABASE=public
  #- MYSQL_USER=public
  #- MYSQL_PASSWORD=public
  #volumes:
  #- "./servers/php-custom.d:/etc/php-custom.d"
  #networks:
  #williamdeslocal:
  #aliases:
  #- mysql5.5.williamdes.local
  #- mysql5.5.local

  #perconadb56:
  #image: percona:5.6
  #container_name: perconadb56
  #dns_search: williamdes.local
  #hostname: perconadb5.6.williamdes.local
  #domainname: williamdes.local
  #restart: on-failure:2
  #mem_limit: 300m
  #environment:
  #- MYSQL_ROOT_PASSWORD=public
  #- MYSQL_DATABASE=public
  #- MYSQL_USER=public
  #- MYSQL_PASSWORD=public
  #volumes:
  #- "./servers/php-custom.d:/etc/php-custom.d"
  #networks:
  #williamdeslocal:
  #aliases:
  #- perconadb5.6.williamdes.local
  #- perconadb5.6.local

  #  haproxy:
  #    image: "haproxy:latest"
  #    container_name: haproxy
  #    dns_search: williamdes.local
  #    hostname: haproxy.williamdes.local
  #    domainname: williamdes.local
  #    restart: on-failure:2
  #    mem_limit: 100m
  #    tmpfs:
  #      - /var/lib/haproxy:exec
  #    volumes:
  #      - "/mnt/Dev/!OSS/servers/haproxy/:/usr/local/etc/haproxy"
  #    networks:
  #      williamdeslocal:
  #        aliases:
  #          - haproxy.williamdes.local
  #    ports:
  #      - "900:80"
  #      - "4431:443"

  #  varnish:
  #    image: "varnish:latest"
  #    container_name: varnish
  #    dns_search: williamdes.local
  #    hostname: varnish.williamdes.local
  #    domainname: williamdes.local
  #    restart: on-failure:2
  #    mem_limit: 100m
  #    tmpfs:
  #      - /var/lib/varnish:exec
  #    volumes:
  #      - "/mnt/Dev/!OSS/servers/varnish/:/etc/varnish"
  #    networks:
  #      williamdeslocal:
  #        aliases:
  #          - varnish.williamdes.local
  #    ports:
  #      - "800:80"
  #      - "4430:443"
networks:
  williamdeslocal:
    driver: bridge
    ipam:
      config:
        - subnet: "172.19.0.0/16"
          gateway: "172.19.0.1"
